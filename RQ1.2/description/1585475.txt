a simple implementation of LR in c++