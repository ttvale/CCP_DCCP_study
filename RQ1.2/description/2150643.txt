PicoMachine: minimal finite state machine